<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="doctor_visit_report" model="ir.actions.report">
        <field name="name">Visit report</field>
        <field name="model">hr_hospital.visit</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">hr_hospital.visit_report</field>
        <field name="report_file">hr_hospital.visit_report</field>
        <field name="binding_model_id" ref="model_hr_hospital_visit"/>
        <field name="binding_view_types">list</field>
        <field name="binding_type">report</field>
    </record>

    <template id="hr_hospital.visit_report">
        <t t-call="web.html_container">
            <center>
                <h1>Doctor visits</h1>
            </center>
            <table class="table table-sm">
                <thead>
                    <tr>
                        <th>Number</th>
                        <th>Doctor</th>
                        <th>Patient</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="docs" t-as="o">
                        <tr>
                            <td>
                                <t t-esc="o.name"/>
                            </td>
                            <td>
                                <t t-esc="o.doctor_id.name"/>
                            </td>
                            <td>
                                <t t-esc="o.patient_id.name"/>
                            </td>
                            <td class="text-end">
                                <t t-esc="o.planned_date"/>
                            </td>
                        </tr>
                    </t>
                </tbody>
            </table>
        </t>
    </template>

</odoo>
